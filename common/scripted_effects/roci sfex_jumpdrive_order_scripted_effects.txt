sfex_jumpdrive_order_measure_point_distance_to_centre_point = {
    export_trigger_value_to_variable = {
        trigger = distance
        variable = acemod_sfex_jumpdrive_order_var_distance_measured
        parameters = {
            source = event_target:acemod_sfex_event_target_solar_system_centre_point
            type = euclidean
            same_solar_system = yes
        }
    }
}

sfex_jumpdrive_order_export_planets_in_system_distance_to_centre_point = {
	if = {
		limit = {
			NOT = {
				exists = event_target:sfex_event_target_solar_system_centre_point
			}
		}
		random_system_planet = {
			limit = {
				is_primary_star = yes
			}
			save_event_target_as = sfex_event_target_solar_system_centre_point
		}
	}
	if = {
		limit = {
			exists = event_target:sfex_event_target_solar_system_centre_point
		}
		every_system_planet = {
			sfex_jumpdrive_order_measure_point_distance_to_centre_point = yes
		}
	}
	else = {
		log = "sfex_jumpdrive_order_export_distance_to_centre_point: is_primary_star does not exist."
	}
}