reset_automation_cycle = {
	set_variable = { which = exploit_done_today value = 0 }
	set_variable = { which = exploit_done_cycle value = 0 }
}

exploit_set_variables = {
	#Flags
	
	
	#Variables
	if = {
		limit = {
			NOT = { is_variable_set = minor_colonies }
		}
		set_variable = { which = minor_colonies value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_barren }
		}
		set_variable = { which = minor_colony_barren value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_frozen }
		}
		set_variable = { which = minor_colony_frozen value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_asteroid }
		}
		set_variable = { which = minor_colony_asteroid value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_ice_asteroid }
		}
		set_variable = { which = minor_colony_ice_asteroid value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_molten }
		}
		set_variable = { which = minor_colony_molten value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_toxic }
		}
		set_variable = { which = minor_colony_toxic value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_gas_giants }
		}
		set_variable = { which = minor_colony_gas_giants value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_shattered }
		}
		set_variable = { which = minor_colony_shattered value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colonies_available }
		}
		set_variable = { which = minor_colonies_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_barren_available }
		}
		set_variable = { which = minor_colony_barren_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_frozen_available }
		}
		set_variable = { which = minor_colony_frozen_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_asteroid_available }
		}
		set_variable = { which = minor_colony_asteroid_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_ice_asteroid_available }
		}
		set_variable = { which = minor_colony_ice_asteroid_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_molten_available }
		}
		set_variable = { which = minor_colony_molten_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_toxic_available }
		}
		set_variable = { which = minor_colony_toxic_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_gas_giants_available }
		}
		set_variable = { which = minor_colony_gas_giants_available value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = minor_colony_shattered_available }
		}
		set_variable = { which = minor_colony_shattered_available value = 0 }
	}
	
	if = {
		limit = { NOT = { is_variable_set = exploit_energy_colonies } }
		set_variable = { which = exploit_energy_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_energy_building } }
		set_variable = { which = exploit_energy_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_power_plant_queue } }
		set_variable = { which = exploit_power_plant_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_energy_available } }
		set_variable = { which = exploit_energy_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_mineral_mine_colonies } }
		set_variable = { which = exploit_mineral_mine_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_mineral_mine_building } }
		set_variable = { which = exploit_mineral_mine_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_mineral_mine_queue } }
		set_variable = { which = exploit_mineral_mine_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_minerals_available } }
		set_variable = { which = exploit_minerals_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_mine_colonies } }
		set_variable = { which = exploit_alloy_mine_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_mine_building } }
		set_variable = { which = exploit_alloy_mine_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_queue } }
		set_variable = { which = exploit_alloy_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_available } }
		set_variable = { which = exploit_alloy_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_foundry_colonies } }
		set_variable = { which = exploit_alloy_foundry_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_alloy_foundry_building } }
		set_variable = { which = exploit_alloy_foundry_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_foundry_queue } }
		set_variable = { which = exploit_foundry_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_foundry_available } }
		set_variable = { which = exploit_foundry_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_research_lab_colonies } }
		set_variable = { which = exploit_research_lab_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_research_lab_building } }
		set_variable = { which = exploit_research_lab_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_research_queue } }
		set_variable = { which = exploit_research_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_research_available } }
		set_variable = { which = exploit_research_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_lava_refinery_colonies } }
		set_variable = { which = exploit_lava_refinery_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_lava_refinery_building } }
		set_variable = { which = exploit_lava_refinery_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_lava_refinery_queue } }
		set_variable = { which = exploit_lava_refinery_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_lava_refinery_available } }
		set_variable = { which = exploit_lava_refinery_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_motes_mine_colonies } }
		set_variable = { which = exploit_motes_mine_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_motes_mine_building } }
		set_variable = { which = exploit_motes_mine_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_motes_queue } }
		set_variable = { which = exploit_motes_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_motes_available } }
		set_variable = { which = exploit_motes_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_gas_well_colonies } }
		set_variable = { which = exploit_gas_well_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_gas_well_building } }
		set_variable = { which = exploit_gas_well_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_gases_queue } }
		set_variable = { which = exploit_gases_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_gases_available } }
		set_variable = { which = exploit_gases_available value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_crystal_mine_colonies } }
		set_variable = { which = exploit_crystal_mine_colonies value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_crystal_mine_building } }
		set_variable = { which = exploit_crystal_mine_building value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_crystals_queue } }
		set_variable = { which = exploit_crystals_queue value = 0 }
	}
	if = {
		limit = { NOT = { is_variable_set = exploit_crystals_available } }
		set_variable = { which = exploit_crystals_available value = 0 }
	}
	
	if = {
		limit = {
			NOT = { is_variable_set = exploit_energy_stockpile_min }
		}
		set_variable = { which = exploit_energy_stockpile_min value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = exploit_minerals_stockpile_min }
		}
		set_variable = { which = exploit_minerals_stockpile_min value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = exploit_alloys_stockpile_min }
		}
		set_variable = { which = exploit_alloys_stockpile_min value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = exploit_motes_stockpile_min }
		}
		set_variable = { which = exploit_motes_stockpile_min value = 0 }
	}
	if = {
		limit = {
			NOT = { is_variable_set = exploit_gases_stockpile_min }
		}
		set_variable = { which = exploit_gases_stockpile_min value = 0 }
	}
}

exploit_floor_stockpile_variables = {
	if = {
		limit = {
			check_variable = { which = exploit_energy_stockpile_min value < 0 }
		}
		set_variable = { which = exploit_energy_stockpile_min value = 0 }
	}
	if = {
		limit = {
			check_variable = { which = exploit_minerals_stockpile_min value < 0 }
		}
		set_variable = { which = exploit_minerals_stockpile_min value = 0 }
	}
	if = {
		limit = {
			check_variable = { which = exploit_alloys_stockpile_min value < 0 }
		}
		set_variable = { which = exploit_alloys_stockpile_min value = 0 }
	}
	if = {
		limit = {
			check_variable = { which = exploit_motes_stockpile_min value < 0 }
		}
		set_variable = { which = exploit_motes_stockpile_min value = 0 }
	}
	if = {
		limit = {
			check_variable = { which = exploit_gases_stockpile_min value < 0 }
		}
		set_variable = { which = exploit_gases_stockpile_min value = 0 }
	}
}

automation_variables_calc = {
	subtract_variable = { which = exploit_energy_tracking value = exploit_energy_stockpile_min }
	subtract_variable = { which = exploit_minerals_tracking value = exploit_minerals_stockpile_min }
	subtract_variable = { which = exploit_alloys_tracking value = exploit_alloys_stockpile_min }
	subtract_variable = { which = exploit_volatile_motes_tracking value = exploit_motes_stockpile_min }
	subtract_variable = { which = exploit_exotic_gases_tracking value = exploit_gases_stockpile_min }
}

export_to_exploit_variables = {
	set_variable = { which = exploit_energy_tracking value = 0 }
	set_variable = { which = exploit_minerals_tracking value = 0 }
	set_variable = { which = exploit_alloys_tracking value = 0 }
	set_variable = { which = exploit_volatile_motes_tracking value = 0 }
	set_variable = { which = exploit_exotic_gases_tracking value = 0 }
	
	export_resource_stockpile_to_variable = { resource = energy variable = exploit_energy_tracking }
	export_resource_stockpile_to_variable = { resource = minerals variable = exploit_minerals_tracking }
	export_resource_stockpile_to_variable = { resource = alloys variable = exploit_alloys_tracking }
	export_resource_stockpile_to_variable = { resource = volatile_motes variable = exploit_volatile_motes_tracking }
	export_resource_stockpile_to_variable = { resource = exotic_gases variable = exploit_exotic_gases_tracking }
}