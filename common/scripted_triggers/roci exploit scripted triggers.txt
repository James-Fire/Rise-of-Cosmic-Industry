has_exploit_mod = {
	always = no
}

is_hosting_exploit = {
	has_star_flag = exploit_center
}

is_major_colony = {
	is_colony = yes
	has_upgraded_capital = yes
	num_pops > 9
	owner = {
		is_same_value = PREV.solar_system.owner
	}
	NOT = { has_global_flag = no_exploit }
}
can_build_exploit = {
	has_colony_and_space = yes
	NOT = { exploit_already_building = yes }
	NOT = { has_global_flag = no_exploit }
}
has_colony_and_space = {
	has_modifier = colonized_planet
	check_variable = { which = exploitation_size value > 0 }
	NOT = { has_global_flag = no_exploit }
}
exploit_already_building = {
	OR = {
		has_modifier = roci_building_thing
		has_planet_flag = exploit_building_mines
		has_planet_flag = exploit_building_power
		has_planet_flag = exploit_building_alloys
		has_planet_flag = exploit_building_foundry
		has_planet_flag = exploit_building_lava
		has_planet_flag = exploit_building_research
		has_planet_flag = exploit_building_motes
		has_planet_flag = exploit_building_gases
		has_planet_flag = exploit_building_crystals
	}
}
has_energy_deposit = {
	OR = {
		has_deposit = d_energy_1
		has_deposit = d_energy_2
		has_deposit = d_energy_3
		has_deposit = d_energy_4
		has_deposit = d_energy_5
		has_deposit = d_energy_6
		has_deposit = d_energy_7
		has_deposit = d_energy_8
		has_deposit = d_energy_9
		has_deposit = d_energy_10
	}
}
has_mineral_deposit = {
	OR = {
		has_deposit = d_minerals_1
		has_deposit = d_minerals_2
		has_deposit = d_minerals_3
		has_deposit = d_minerals_4
		has_deposit = d_minerals_5
		has_deposit = d_minerals_6
		has_deposit = d_minerals_7
		has_deposit = d_minerals_8
		has_deposit = d_minerals_9
		has_deposit = d_minerals_10
	}
}
has_alloy_deposit = {
	OR = {
		has_deposit = d_alloys_1
		has_deposit = d_alloys_2
		has_deposit = d_alloys_3
		has_deposit = d_alloys_4
		has_deposit = d_alloys_5
	}
}
has_motes_deposit = {
	OR = {
		has_deposit = d_volatile_motes_1
		has_deposit = d_volatile_motes_2
		has_deposit = d_volatile_motes_3
		has_deposit = d_volatile_motes_4
		has_deposit = d_volatile_motes_5
	}
}

has_gas_deposit = {
	OR = {
		has_deposit = d_exotic_gases_1
		has_deposit = d_exotic_gases_2
		has_deposit = d_exotic_gases_3
		has_deposit = d_exotic_gases_4
		has_deposit = d_exotic_gases_5
	}
}

has_crystal_deposit = {
	OR = {
		has_deposit = d_rare_crystals_1
		has_deposit = d_rare_crystals_2
		has_deposit = d_rare_crystals_3
		has_deposit = d_rare_crystals_4
		has_deposit = d_rare_crystals_5
	}
}

has_science_deposit = {
	OR = {
		has_deposit = d_engineering_1
		has_deposit = d_engineering_2
		has_deposit = d_engineering_3
		has_deposit = d_engineering_4
		has_deposit = d_engineering_5
		has_deposit = d_engineering_6
		has_deposit = d_engineering_7
		has_deposit = d_engineering_8
		has_deposit = d_engineering_9
		has_deposit = d_engineering_10
		has_deposit = d_physics_1
		has_deposit = d_physics_2
		has_deposit = d_physics_3
		has_deposit = d_physics_4
		has_deposit = d_physics_5
		has_deposit = d_physics_6
		has_deposit = d_physics_7
		has_deposit = d_physics_8
		has_deposit = d_physics_9
		has_deposit = d_physics_10
		has_deposit = d_society_1
		has_deposit = d_society_2
		has_deposit = d_society_3
		has_deposit = d_society_4
		has_deposit = d_society_5
		has_deposit = d_society_6
		has_deposit = d_society_7
		has_deposit = d_society_8
		has_deposit = d_society_9
		has_deposit = d_society_10
	}
}