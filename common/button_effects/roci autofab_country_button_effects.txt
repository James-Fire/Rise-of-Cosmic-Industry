autofab_country_tooltip = {
	potential = { }
	allow = { hidden_trigger = { always = yes } }
	effect = { custom_tooltip = "autofab_country_tooltip" }
}

open_autofab_manager = {
	potential = { hidden_trigger = { can_use_autofab = yes } } #has_exploit_mod = yes
	allow = { hidden_trigger = { always = yes } }
	effect = {
		country_event = { id = autofab_menu.1 }
		hidden_effect = {
			factory_reset_all_country_flags = yes
			document_factory_country = yes
			factory_set_default_queue = yes
		}
	}
}

open_autofab_manager_side = {
	potential = { hidden_trigger = { can_use_autofab = yes } } #has_exploit_mod = no
	allow = { hidden_trigger = { always = yes } }
	effect = {
		country_event = { id = autofab_menu.1 }
		hidden_effect = {
			factory_reset_all_country_flags = yes
			document_factory_country = yes
			factory_set_default_queue = yes
		}
	}
}

hidden_button_on = {
	potential = { NOT = { has_country_flag = easter_egg } }
	allow = { hidden_trigger = { always = yes } }
	effect = { set_country_flag = easter_egg }
}
hidden_button = {
	potential = { has_country_flag = easter_egg }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
hidden_button_off = {
	potential = { has_country_flag = easter_egg }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = easter_egg }
}


factory_automation_off = {
	potential = { has_country_flag = autofab_automation }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = autofab_automation set_country_flag = autofab_automation_off }
}
factory_automation_on = {
	potential = { has_country_flag = autofab_automation_off }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		#custom_tooltip = "Automation is not available right now."
		set_country_flag = autofab_automation remove_country_flag = autofab_automation_off
	}
}
factory_automation_settings = {
	potential = { always = yes }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		#custom_tooltip = "Automation is not available right now."
		hidden_effect = {
			country_event = { id = autofab_menu.2 }
			autofab_floor_automation_variables = yes
		}
	}
}
factory_vanilla_swapping_fire_country = {
	potential = { has_country_flag = factory_vanilla_swapping }
	allow = {
		custom_tooltip = "swapping_country_tooltip"
		hidden_trigger = { any_owned_planet = { has_vanilla_swap_candidate = yes NOT = { has_planet_flag = autofab_ignore_vanilla } } }
	}
	effect = {
		custom_tooltip = "swapping_country_effects_tooltip"
		hidden_effect = {
			every_owned_planet = {
				limit = {
					has_vanilla_swap_candidate = yes
					NOT = { has_planet_flag = autofab_ignore_vanilla }
				}
				planet_event = { id = autofab.21 }
			}
		}
	}
}
factory_vanilla_swapping_off = {
	potential = { has_country_flag = factory_vanilla_swapping }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_vanilla_swapping set_country_flag = autofab_ignore_vanilla }
}
factory_vanilla_swapping_on = {
	potential = { has_country_flag = autofab_ignore_vanilla }
	allow = { hidden_trigger = { always = yes } }
	effect = { set_country_flag = factory_vanilla_swapping remove_country_flag = autofab_ignore_vanilla }
}
factory_fallback_off = {
	potential = { has_country_flag = factory_fallback }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_fallback set_country_flag = factory_fallback_off }
}
factory_fallback_on = {
	potential = { has_country_flag = factory_fallback_off }
	allow = { hidden_trigger = { always = yes } }
	effect = { set_country_flag = factory_fallback remove_country_flag = factory_fallback_off }
}
factory_autofab_construction_off = {
	potential = { has_country_flag = factory_autofab_construction_on }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_autofab_construction_on set_country_flag = factory_autofab_construction_off }
}
factory_autofab_construction_on = {
	potential = { has_country_flag = factory_autofab_construction_off }
	allow = { hidden_trigger = { always = yes } }
	effect = { set_country_flag = factory_autofab_construction_on remove_country_flag = factory_autofab_construction_off hidden_effect = { set_variable = { which = autofab_queue value = 0 } } }
}

###Number Looping

factory_queue_1 = {
	potential = { has_country_flag = factory_autofab_construction_on has_country_flag = factory_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_queue_1 set_country_flag = factory_queue_2 }
}
factory_queue_2 = {
	potential = { has_country_flag = factory_autofab_construction_on has_country_flag = factory_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_queue_2 set_country_flag = factory_queue_3 }
}
factory_queue_3 = {
	potential = { has_country_flag = factory_autofab_construction_on has_country_flag = factory_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_queue_3 set_country_flag = factory_queue_4 }
}
factory_queue_4 = {
	potential = { has_country_flag = factory_autofab_construction_on has_country_flag = factory_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_queue_4 set_country_flag = factory_queue_5 }
}
factory_queue_5 = {
	potential = { has_country_flag = factory_autofab_construction_on has_country_flag = factory_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_queue_5 set_country_flag = factory_queue_1 }
}

factory_generator_queue_1 = {
	potential = { has_country_flag = factory_generator_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_generator_queue_1 set_country_flag = factory_generator_queue_2 }
}
factory_generator_queue_2 = {
	potential = { has_country_flag = factory_generator_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_generator_queue_2 set_country_flag = factory_generator_queue_3 }
}
factory_generator_queue_3 = {
	potential = { has_country_flag = factory_generator_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_generator_queue_3 set_country_flag = factory_generator_queue_4 }
}
factory_generator_queue_4 = {
	potential = { has_country_flag = factory_generator_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_generator_queue_4 set_country_flag = factory_generator_queue_5 }
}
factory_generator_queue_5 = {
	potential = { has_country_flag = factory_generator_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_generator_queue_5 set_country_flag = factory_generator_queue_1 }
}

factory_mine_queue_1 = {
	potential = { has_country_flag = factory_mine_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_mine_queue_1 set_country_flag = factory_mine_queue_2 }
}
factory_mine_queue_2 = {
	potential = { has_country_flag = factory_mine_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_mine_queue_2 set_country_flag = factory_mine_queue_3 }
}
factory_mine_queue_3 = {
	potential = { has_country_flag = factory_mine_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_mine_queue_3 set_country_flag = factory_mine_queue_4 }
}
factory_mine_queue_4 = {
	potential = { has_country_flag = factory_mine_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_mine_queue_4 set_country_flag = factory_mine_queue_5 }
}
factory_mine_queue_5 = {
	potential = { has_country_flag = factory_mine_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_mine_queue_5 set_country_flag = factory_mine_queue_1 }
}

factory_farm_queue_1 = {
	potential = { has_country_flag = factory_farm_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_farm_queue_1 set_country_flag = factory_farm_queue_2 }
}
factory_farm_queue_2 = {
	potential = { has_country_flag = factory_farm_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_farm_queue_2 set_country_flag = factory_farm_queue_3 }
}
factory_farm_queue_3 = {
	potential = { has_country_flag = factory_farm_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_farm_queue_3 set_country_flag = factory_farm_queue_4 }
}
factory_farm_queue_4 = {
	potential = { has_country_flag = factory_farm_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_farm_queue_4 set_country_flag = factory_farm_queue_5 }
}
factory_farm_queue_5 = {
	potential = { has_country_flag = factory_farm_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_farm_queue_5 set_country_flag = factory_farm_queue_1 }
}

factory_foundry_queue_1 = {
	potential = { has_country_flag = factory_foundry_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_foundry_queue_1 set_country_flag = factory_foundry_queue_2 }
}
factory_foundry_queue_2 = {
	potential = { has_country_flag = factory_foundry_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_foundry_queue_2 set_country_flag = factory_foundry_queue_3 }
}
factory_foundry_queue_3 = {
	potential = { has_country_flag = factory_foundry_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_foundry_queue_3 set_country_flag = factory_foundry_queue_4 }
}
factory_foundry_queue_4 = {
	potential = { has_country_flag = factory_foundry_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_foundry_queue_4 set_country_flag = factory_foundry_queue_5 }
}
factory_foundry_queue_5 = {
	potential = { has_country_flag = factory_foundry_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_foundry_queue_5 set_country_flag = factory_foundry_queue_1 }
}

factory_factory_queue_1 = {
	potential = { has_country_flag = factory_factory_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_factory_queue_1 set_country_flag = factory_factory_queue_2 }
}
factory_factory_queue_2 = {
	potential = { has_country_flag = factory_factory_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_factory_queue_2 set_country_flag = factory_factory_queue_3 }
}
factory_factory_queue_3 = {
	potential = { has_country_flag = factory_factory_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_factory_queue_3 set_country_flag = factory_factory_queue_4 }
}
factory_factory_queue_4 = {
	potential = { has_country_flag = factory_factory_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_factory_queue_4 set_country_flag = factory_factory_queue_5 }
}
factory_factory_queue_5 = {
	potential = { has_country_flag = factory_factory_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_factory_queue_5 set_country_flag = factory_factory_queue_1 }
}

factory_motes_queue_1 = {
	potential = { has_country_flag = factory_motes_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_motes_queue_1 set_country_flag = factory_motes_queue_2 }
}
factory_motes_queue_2 = {
	potential = { has_country_flag = factory_motes_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_motes_queue_2 set_country_flag = factory_motes_queue_3 }
}
factory_motes_queue_3 = {
	potential = { has_country_flag = factory_motes_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_motes_queue_3 set_country_flag = factory_motes_queue_4 }
}
factory_motes_queue_4 = {
	potential = { has_country_flag = factory_motes_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_motes_queue_4 set_country_flag = factory_motes_queue_5 }
}
factory_motes_queue_5 = {
	potential = { has_country_flag = factory_motes_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_motes_queue_5 set_country_flag = factory_motes_queue_1 }
}

factory_gases_queue_1 = {
	potential = { has_country_flag = factory_gases_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_gases_queue_1 set_country_flag = factory_gases_queue_2 }
}
factory_gases_queue_2 = {
	potential = { has_country_flag = factory_gases_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_gases_queue_2 set_country_flag = factory_gases_queue_3 }
}
factory_gases_queue_3 = {
	potential = { has_country_flag = factory_gases_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_gases_queue_3 set_country_flag = factory_gases_queue_4 }
}
factory_gases_queue_4 = {
	potential = { has_country_flag = factory_gases_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_gases_queue_4 set_country_flag = factory_gases_queue_5 }
}
factory_gases_queue_5 = {
	potential = { has_country_flag = factory_gases_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_gases_queue_5 set_country_flag = factory_gases_queue_1 }
}

factory_crystals_queue_1 = {
	potential = { has_country_flag = factory_crystals_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_crystals_queue_1 set_country_flag = factory_crystals_queue_2 }
}
factory_crystals_queue_2 = {
	potential = { has_country_flag = factory_crystals_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_crystals_queue_2 set_country_flag = factory_crystals_queue_3 }
}
factory_crystals_queue_3 = {
	potential = { has_country_flag = factory_crystals_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_crystals_queue_3 set_country_flag = factory_crystals_queue_4 }
}
factory_crystals_queue_4 = {
	potential = { has_country_flag = factory_crystals_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_crystals_queue_4 set_country_flag = factory_crystals_queue_5 }
}
factory_crystals_queue_5 = {
	potential = { has_country_flag = factory_crystals_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_crystals_queue_5 set_country_flag = factory_crystals_queue_1 }
}

factory_extractor_queue_1 = {
	potential = { has_country_flag = factory_extractor_queue_1 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_extractor_queue_1 set_country_flag = factory_extractor_queue_2 }
}
factory_extractor_queue_2 = {
	potential = { has_country_flag = factory_extractor_queue_2 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_extractor_queue_2 set_country_flag = factory_extractor_queue_3 }
}
factory_extractor_queue_3 = {
	potential = { has_country_flag = factory_extractor_queue_3 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_extractor_queue_3 set_country_flag = factory_extractor_queue_4 }
}
factory_extractor_queue_4 = {
	potential = { has_country_flag = factory_extractor_queue_4 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_extractor_queue_4 set_country_flag = factory_extractor_queue_5 }
}
factory_extractor_queue_5 = {
	potential = { has_country_flag = factory_extractor_queue_5 }
	allow = { hidden_trigger = { always = yes } }
	effect = { remove_country_flag = factory_extractor_queue_5 set_country_flag = factory_extractor_queue_1 }
}

###Factory Queueing

factory_increase_queue = {
	potential = { has_country_flag = factory_autofab_construction_on }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_queue_1
				check_variable = { which = autofabs_available value > 0 }
			}
			AND = {
				has_country_flag = factory_queue_2
				check_variable = { which = autofabs_available value > 1 }
			}
			AND = {
				has_country_flag = factory_queue_3
				check_variable = { which = autofabs_available value > 2 }
			}
			AND = {
				has_country_flag = factory_queue_4
				check_variable = { which = autofabs_available value > 3 }
			}
			AND = {
				has_country_flag = factory_queue_5
				check_variable = { which = autofabs_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_autofab_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_queue_1
					check_variable = { which = autofabs_available value > 0 }
				}
				change_variable = { which = autofab_queue value = 1 }
				change_variable = { which = autofabs_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_2
					check_variable = { which = autofabs_available value > 1 }
				}
				change_variable = { which = autofab_queue value = 2 }
				change_variable = { which = autofabs_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_3
					check_variable = { which = autofabs_available value > 2 }
				}
				change_variable = { which = autofab_queue value = 3 }
				change_variable = { which = autofabs_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_4
					check_variable = { which = autofabs_available value > 3 }
				}
				change_variable = { which = autofab_queue value = 4 }
				change_variable = { which = autofabs_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_5
					check_variable = { which = autofabs_available value > 4 }
				}
				change_variable = { which = autofab_queue value = 5 }
				change_variable = { which = autofabs_available value = -5 }
			}
		}
	}
}
factory_decrease_queue = {
	potential = { has_country_flag = factory_autofab_construction_on }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_queue_1
				OR = {
					check_variable = { which = autofab_queue value > 0 }
					check_variable = { which = autofabs value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_queue_2
				OR = {
					check_variable = { which = autofab_queue value > 1 }
					check_variable = { which = autofabs value > 1 }
					AND = {
						check_variable = { which = autofab_queue value > 0 }
						check_variable = { which = autofabs value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_queue_3
				OR = {
					check_variable = { which = autofab_queue value > 2 }
					check_variable = { which = autofabs value > 2 }
					AND = {
						check_variable = { which = autofab_queue value > 1 }
						check_variable = { which = autofabs value > 0 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 0 }
						check_variable = { which = autofabs value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_queue_4
				OR = {
					check_variable = { which = autofab_queue value > 3 }
					check_variable = { which = autofabs value > 3 }
					AND = {
						check_variable = { which = autofab_queue value > 1 }
						check_variable = { which = autofabs value > 1 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 1 }
						check_variable = { which = autofabs value > 1 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 2 }
						check_variable = { which = autofabs value > 0 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 0 }
						check_variable = { which = autofabs value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_queue_5
				OR = {
					check_variable = { which = autofab_queue value > 4 }
					check_variable = { which = autofabs value > 4 }
					AND = {
						check_variable = { which = autofab_queue value > 2 }
						check_variable = { which = autofabs value > 1 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 1 }
						check_variable = { which = autofabs value > 2 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 3 }
						check_variable = { which = autofabs value > 0 }
					}
					AND = {
						check_variable = { which = autofab_queue value > 0 }
						check_variable = { which = autofabs value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_autofab_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_queue_1
				}
				change_variable = { which = autofab_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_2
				}
				change_variable = { which = autofab_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_3
				}
				change_variable = { which = autofab_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_4
				}
				change_variable = { which = autofab_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_queue_5
				}
				change_variable = { which = autofab_queue value = -5 }
			}
		}
	}
}

factory_generator_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_generator_queue_1
				check_variable = { which = autofab_energy_avail value > 0 }
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_generator_queue_2
				check_variable = { which = autofab_energy_avail value > 1 }
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_generator_queue_3
				check_variable = { which = autofab_energy_avail value > 2 }
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_generator_queue_4
				check_variable = { which = autofab_energy_avail value > 3 }
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_generator_queue_5
				check_variable = { which = autofab_energy_avail value > 4 }
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_generator_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_generator_queue_1
					check_variable = { which = autofab_energy_avail value > 0 }
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_energy_queue value = 1 }
				change_variable = { which = autofab_energy_avail value = -1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_2
					check_variable = { which = autofab_energy_avail value > 1 }
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_energy_queue value = 2 }
				change_variable = { which = autofab_energy_avail value = -2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_3
					check_variable = { which = autofab_energy_avail value > 2 }
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_energy_queue value = 3 }
				change_variable = { which = autofab_energy_avail value = -3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_4
					check_variable = { which = autofab_energy_avail value > 3 }
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_energy_queue value = 4 }
				change_variable = { which = autofab_energy_avail value = -4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_5
					check_variable = { which = autofab_energy_avail value > 4 }
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_energy_queue value = 5 }
				change_variable = { which = autofab_energy_avail value = -5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_generator_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_generator_queue_1
				OR = {
					check_variable = { which = autofab_energy_queue value > 0 }
					check_variable = { which = autofab_power value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_generator_queue_2
				OR = {
					check_variable = { which = autofab_energy_queue value > 1 }
					check_variable = { which = autofab_power value > 1 }
					AND = {
						check_variable = { which = autofab_energy_queue value > 0 }
						check_variable = { which = autofab_power value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_generator_queue_3
				OR = {
					check_variable = { which = autofab_energy_queue value > 2 }
					check_variable = { which = autofab_power value > 2 }
					AND = {
						check_variable = { which = autofab_energy_queue value > 1 }
						check_variable = { which = autofab_power value > 0 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 0 }
						check_variable = { which = autofab_power value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_generator_queue_4
				OR = {
					check_variable = { which = autofab_energy_queue value > 3 }
					check_variable = { which = autofab_power value > 3 }
					AND = {
						check_variable = { which = autofab_energy_queue value > 1 }
						check_variable = { which = autofab_power value > 1 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 2 }
						check_variable = { which = autofab_power value > 0 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 0 }
						check_variable = { which = autofab_power value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_generator_queue_5
				OR = {
					check_variable = { which = autofab_energy_queue value > 4 }
					check_variable = { which = autofab_power value > 4 }
					AND = {
						check_variable = { which = autofab_energy_queue value > 2 }
						check_variable = { which = autofab_power value > 1 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 1 }
						check_variable = { which = autofab_power value > 2 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 3 }
						check_variable = { which = autofab_power value > 0 }
					}
					AND = {
						check_variable = { which = autofab_energy_queue value > 0 }
						check_variable = { which = autofab_power value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_generator_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_generator_queue_1
				}
				change_variable = { which = autofab_energy_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_2
				}
				change_variable = { which = autofab_energy_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_3
				}
				change_variable = { which = autofab_energy_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_4
				}
				change_variable = { which = autofab_energy_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_generator_queue_5
				}
				change_variable = { which = autofab_energy_queue value = -5 }
			}
		}
	}
}

factory_mine_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_mine_queue_1
				check_variable = { which = autofab_minerals_avail value > 0 }
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_mine_queue_2
				check_variable = { which = autofab_minerals_avail value > 1 }
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_mine_queue_3
				check_variable = { which = autofab_minerals_avail value > 2 }
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_mine_queue_4
				check_variable = { which = autofab_minerals_avail value > 3 }
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_mine_queue_5
				check_variable = { which = autofab_minerals_avail value > 4 }
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_mine_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_mine_queue_1
					check_variable = { which = autofab_minerals_avail value > 0 }
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_mineral_queue value = 1 }
				change_variable = { which = autofab_minerals_avail value = -1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_2
					check_variable = { which = autofab_minerals_avail value > 1 }
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_mineral_queue value = 2 }
				change_variable = { which = autofab_minerals_avail value = -2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_3
					check_variable = { which = autofab_minerals_avail value > 2 }
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_mineral_queue value = 3 }
				change_variable = { which = autofab_minerals_avail value = -3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_4
					check_variable = { which = autofab_minerals_avail value > 3 }
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_mineral_queue value = 4 }
				change_variable = { which = autofab_minerals_avail value = -4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_5
					check_variable = { which = autofab_minerals_avail value > 4 }
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_mineral_queue value = 5 }
				change_variable = { which = autofab_minerals_avail value = -5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_mine_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_mine_queue_1
				OR = {
					check_variable = { which = autofab_mineral_queue value > 0 }
					check_variable = { which = autofab_mine value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_mine_queue_2
				OR = {
					check_variable = { which = autofab_mineral_queue value > 1 }
					check_variable = { which = autofab_mine value > 1 }
					AND = {
						check_variable = { which = autofab_mineral_queue value > 0 }
						check_variable = { which = autofab_mine value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_mine_queue_3
				OR = {
					check_variable = { which = autofab_mineral_queue value > 2 }
					check_variable = { which = autofab_mine value > 2 }
					AND = {
						check_variable = { which = autofab_mineral_queue value > 1 }
						check_variable = { which = autofab_mine value > 0 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 0 }
						check_variable = { which = autofab_mine value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_mine_queue_4
				OR = {
					check_variable = { which = autofab_mineral_queue value > 3 }
					check_variable = { which = autofab_mine value > 3 }
					AND = {
						check_variable = { which = autofab_mineral_queue value > 1 }
						check_variable = { which = autofab_mine value > 1 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 2 }
						check_variable = { which = autofab_mine value > 0 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 0 }
						check_variable = { which = autofab_mine value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_mine_queue_5
				OR = {
					check_variable = { which = autofab_mineral_queue value > 4 }
					check_variable = { which = autofab_mine value > 4 }
					AND = {
						check_variable = { which = autofab_mineral_queue value > 2 }
						check_variable = { which = autofab_mine value > 1 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 1 }
						check_variable = { which = autofab_mine value > 2 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 3 }
						check_variable = { which = autofab_mine value > 0 }
					}
					AND = {
						check_variable = { which = autofab_mineral_queue value > 0 }
						check_variable = { which = autofab_mine value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_mine_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_mine_queue_1
				}
				change_variable = { which = autofab_mineral_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_2
				}
				change_variable = { which = autofab_mineral_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_3
				}
				change_variable = { which = autofab_mineral_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_4
				}
				change_variable = { which = autofab_mineral_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_mine_queue_5
				}
				change_variable = { which = autofab_mineral_queue value = -5 }
			}
		}
	}
}

factory_farm_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_farm_queue_1
				check_variable = { which = autofab_food_avail value > 0 }
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_farm_queue_2
				check_variable = { which = autofab_food_avail value > 1 }
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_farm_queue_3
				check_variable = { which = autofab_food_avail value > 2 }
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_farm_queue_4
				check_variable = { which = autofab_food_avail value > 3 }
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_farm_queue_5
				check_variable = { which = autofab_food_avail value > 4 }
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_farm_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_farm_queue_1
					check_variable = { which = autofab_food_avail value > 0 }
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_food_queue value = 1 }
				change_variable = { which = autofab_food_avail value = -1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_2
					check_variable = { which = autofab_food_avail value > 1 }
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_food_queue value = 2 }
				change_variable = { which = autofab_food_avail value = -2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_3
					check_variable = { which = autofab_food_avail value > 2 }
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_food_queue value = 3 }
				change_variable = { which = autofab_food_avail value = -3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_4
					check_variable = { which = autofab_food_avail value > 3 }
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_food_queue value = 4 }
				change_variable = { which = autofab_food_avail value = -4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_5
					check_variable = { which = autofab_food_avail value > 4 }
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_food_queue value = 5 }
				change_variable = { which = autofab_food_avail value = -5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_farm_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_farm_queue_1
				OR = {
					check_variable = { which = autofab_food_queue value > 0 }
					check_variable = { which = autofab_farm value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_farm_queue_2
				OR = {
					check_variable = { which = autofab_food_queue value > 1 }
					check_variable = { which = autofab_farm value > 1 }
					AND = {
						check_variable = { which = autofab_food_queue value > 0 }
						check_variable = { which = autofab_farm value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_farm_queue_3
				OR = {
					check_variable = { which = autofab_food_queue value > 2 }
					check_variable = { which = autofab_farm value > 2 }
					AND = {
						check_variable = { which = autofab_food_queue value > 1 }
						check_variable = { which = autofab_farm value > 0 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 0 }
						check_variable = { which = autofab_farm value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_farm_queue_4
				OR = {
					check_variable = { which = autofab_food_queue value > 3 }
					check_variable = { which = autofab_farm value > 3 }
					AND = {
						check_variable = { which = autofab_food_queue value > 1 }
						check_variable = { which = autofab_farm value > 1 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 2 }
						check_variable = { which = autofab_farm value > 0 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 0 }
						check_variable = { which = autofab_farm value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_farm_queue_5
				OR = {
					check_variable = { which = autofab_food_queue value > 4 }
					check_variable = { which = autofab_farm value > 4 }
					AND = {
						check_variable = { which = autofab_food_queue value > 2 }
						check_variable = { which = autofab_farm value > 1 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 1 }
						check_variable = { which = autofab_farm value > 2 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 3 }
						check_variable = { which = autofab_farm value > 0 }
					}
					AND = {
						check_variable = { which = autofab_food_queue value > 0 }
						check_variable = { which = autofab_farm value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_farm_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_farm_queue_1
				}
				change_variable = { which = autofab_food_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_2
				}
				change_variable = { which = autofab_food_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_3
				}
				change_variable = { which = autofab_food_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_4
				}
				change_variable = { which = autofab_food_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_farm_queue_5
				}
				change_variable = { which = autofab_food_queue value = -5 }
			}
		}
	}
}

factory_foundry_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_foundry_queue_1
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_foundry_queue_2
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_foundry_queue_3
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_foundry_queue_4
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_foundry_queue_5
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_foundry_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_foundry_queue_1
					check_variable = { which = autofab_foundry_available value > 0 }
				}
				change_variable = { which = autofab_alloys_queue value = 1 }
				change_variable = { which = autofab_foundry_available value = -1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_2
					check_variable = { which = autofab_foundry_available value > 1 }
				}
				change_variable = { which = autofab_alloys_queue value = 2 }
				change_variable = { which = autofab_foundry_available value = -2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_3
					check_variable = { which = autofab_foundry_available value > 2 }
				}
				change_variable = { which = autofab_alloys_queue value = 3 }
				change_variable = { which = autofab_foundry_available value = -3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_4
					check_variable = { which = autofab_foundry_available value > 3 }
				}
				change_variable = { which = autofab_alloys_queue value = 4 }
				change_variable = { which = autofab_foundry_available value = -4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_5
					check_variable = { which = autofab_foundry_available value > 4 }
				}
				change_variable = { which = autofab_alloys_queue value = 5 }
				change_variable = { which = autofab_foundry_available value = -5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_foundry_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_foundry_queue_1
				OR = {
					check_variable = { which = autofab_alloys_queue value > 0 }
					check_variable = { which = autofab_foundry value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_foundry_queue_2
				OR = {
					check_variable = { which = autofab_alloys_queue value > 1 }
					check_variable = { which = autofab_foundry value > 1 }
					AND = {
						check_variable = { which = autofab_alloys_queue value > 0 }
						check_variable = { which = autofab_foundry value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_foundry_queue_3
				OR = {
					check_variable = { which = autofab_alloys_queue value > 2 }
					check_variable = { which = autofab_foundry value > 2 }
					AND = {
						check_variable = { which = autofab_alloys_queue value > 1 }
						check_variable = { which = autofab_foundry value > 0 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 0 }
						check_variable = { which = autofab_foundry value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_foundry_queue_4
				OR = {
					check_variable = { which = autofab_alloys_queue value > 3 }
					check_variable = { which = autofab_foundry value > 3 }
					AND = {
						check_variable = { which = autofab_alloys_queue value > 1 }
						check_variable = { which = autofab_foundry value > 1 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 2 }
						check_variable = { which = autofab_foundry value > 0 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 0 }
						check_variable = { which = autofab_foundry value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_foundry_queue_5
				OR = {
					check_variable = { which = autofab_alloys_queue value > 4 }
					check_variable = { which = autofab_foundry value > 4 }
					AND = {
						check_variable = { which = autofab_alloys_queue value > 2 }
						check_variable = { which = autofab_foundry value > 1 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 1 }
						check_variable = { which = autofab_foundry value > 2 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 3 }
						check_variable = { which = autofab_foundry value > 0 }
					}
					AND = {
						check_variable = { which = autofab_alloys_queue value > 0 }
						check_variable = { which = autofab_foundry value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_foundry_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_foundry_queue_1
				}
				change_variable = { which = autofab_alloys_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_2
				}
				change_variable = { which = autofab_alloys_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_3
				}
				change_variable = { which = autofab_alloys_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_4
				}
				change_variable = { which = autofab_alloys_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_foundry_queue_5
				}
				change_variable = { which = autofab_alloys_queue value = -5 }
			}
		}
	}
}

factory_factory_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_factory_queue_1
				check_variable = { which = autofab_factory_available value > 0 }
			}
			AND = {
				has_country_flag = factory_factory_queue_2
				check_variable = { which = autofab_factory_available value > 1 }
			}
			AND = {
				has_country_flag = factory_factory_queue_3
				check_variable = { which = autofab_factory_available value > 2 }
			}
			AND = {
				has_country_flag = factory_factory_queue_4
				check_variable = { which = autofab_factory_available value > 3 }
			}
			AND = {
				has_country_flag = factory_factory_queue_5
				check_variable = { which = autofab_factory_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_factory_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_factory_queue_1
					check_variable = { which = autofab_factory_available value > 0 }
				}
				change_variable = { which = autofab_congoods_queue value = 1 }
				change_variable = { which = autofab_factory_available value = -1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_2
					check_variable = { which = autofab_factory_available value > 1 }
				}
				change_variable = { which = autofab_congoods_queue value = 2 }
				change_variable = { which = autofab_factory_available value = -2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_3
					check_variable = { which = autofab_factory_available value > 2 }
				}
				change_variable = { which = autofab_congoods_queue value = 3 }
				change_variable = { which = autofab_factory_available value = -3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_4
					check_variable = { which = autofab_factory_available value > 3 }
				}
				change_variable = { which = autofab_congoods_queue value = 4 }
				change_variable = { which = autofab_factory_available value = -4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_5
					check_variable = { which = autofab_factory_available value > 4 }
				}
				change_variable = { which = autofab_congoods_queue value = 5 }
				change_variable = { which = autofab_factory_available value = -5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_factory_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_factory_queue_1
				OR = {
					check_variable = { which = autofab_congoods_queue value > 0 }
					check_variable = { which = autofab_factory value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_factory_queue_2
				OR = {
					check_variable = { which = autofab_congoods_queue value > 1 }
					check_variable = { which = autofab_factory value > 1 }
					AND = {
						check_variable = { which = autofab_congoods_queue value > 0 }
						check_variable = { which = autofab_factory value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_factory_queue_3
				OR = {
					check_variable = { which = autofab_congoods_queue value > 2 }
					check_variable = { which = autofab_factory value > 2 }
					AND = {
						check_variable = { which = autofab_congoods_queue value > 1 }
						check_variable = { which = autofab_factory value > 0 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 0 }
						check_variable = { which = autofab_factory value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_factory_queue_4
				OR = {
					check_variable = { which = autofab_congoods_queue value > 3 }
					check_variable = { which = autofab_factory value > 3 }
					AND = {
						check_variable = { which = autofab_congoods_queue value > 1 }
						check_variable = { which = autofab_factory value > 1 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 2 }
						check_variable = { which = autofab_factory value > 0 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 0 }
						check_variable = { which = autofab_factory value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_factory_queue_5
				OR = {
					check_variable = { which = autofab_congoods_queue value > 4 }
					check_variable = { which = autofab_factory value > 4 }
					AND = {
						check_variable = { which = autofab_congoods_queue value > 2 }
						check_variable = { which = autofab_factory value > 1 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 1 }
						check_variable = { which = autofab_factory value > 2 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 3 }
						check_variable = { which = autofab_factory value > 0 }
					}
					AND = {
						check_variable = { which = autofab_congoods_queue value > 0 }
						check_variable = { which = autofab_factory value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_factory_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_factory_queue_1
				}
				change_variable = { which = autofab_congoods_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_2
				}
				change_variable = { which = autofab_congoods_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_3
				}
				change_variable = { which = autofab_congoods_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_4
				}
				change_variable = { which = autofab_congoods_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_factory_queue_5
				}
				change_variable = { which = autofab_congoods_queue value = -5 }
			}
		}
	}
}

factory_motes_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_motes_queue_1
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_motes_queue_2
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_motes_queue_3
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_motes_queue_4
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_motes_queue_5
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_chemical_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_motes_queue_1
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_motes_queue value = 1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_2
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_motes_queue value = 2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_3
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_motes_queue value = 3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_4
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_motes_queue value = 4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_5
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_motes_queue value = 5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_motes_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_motes_queue_1
				OR = {
					check_variable = { which = autofab_motes_queue value > 0 }
					check_variable = { which = autofab_chemical value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_motes_queue_2
				OR = {
					check_variable = { which = autofab_motes_queue value > 1 }
					check_variable = { which = autofab_chemical value > 1 }
					AND = {
						check_variable = { which = autofab_motes_queue value > 0 }
						check_variable = { which = autofab_chemical value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_motes_queue_3
				OR = {
					check_variable = { which = autofab_motes_queue value > 2 }
					check_variable = { which = autofab_chemical value > 2 }
					AND = {
						check_variable = { which = autofab_motes_queue value > 1 }
						check_variable = { which = autofab_chemical value > 0 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 0 }
						check_variable = { which = autofab_chemical value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_motes_queue_4
				OR = {
					check_variable = { which = autofab_motes_queue value > 3 }
					check_variable = { which = autofab_chemical value > 3 }
					AND = {
						check_variable = { which = autofab_motes_queue value > 1 }
						check_variable = { which = autofab_chemical value > 1 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 1 }
						check_variable = { which = autofab_chemical value > 1 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 2 }
						check_variable = { which = autofab_chemical value > 0 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 0 }
						check_variable = { which = autofab_chemical value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_motes_queue_5
				OR = {
					check_variable = { which = autofab_motes_queue value > 4 }
					check_variable = { which = autofab_chemical value > 4 }
					AND = {
						check_variable = { which = autofab_motes_queue value > 2 }
						check_variable = { which = autofab_chemical value > 1 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 1 }
						check_variable = { which = autofab_chemical value > 2 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 3 }
						check_variable = { which = autofab_chemical value > 0 }
					}
					AND = {
						check_variable = { which = autofab_motes_queue value > 0 }
						check_variable = { which = autofab_chemical value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_chemical_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_motes_queue_1
				}
				change_variable = { which = autofab_motes_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_2
				}
				change_variable = { which = autofab_motes_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_3
				}
				change_variable = { which = autofab_motes_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_4
				}
				change_variable = { which = autofab_motes_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_motes_queue_5
				}
				change_variable = { which = autofab_motes_queue value = -5 }
			}
		}
	}
}

factory_gases_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_gases_queue_1
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_gases_queue_2
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_gases_queue_3
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_gases_queue_4
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_gases_queue_5
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_refinery_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_gases_queue_1
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_gases_queue value = 1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_2
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_gases_queue value = 2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_3
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_gases_queue value = 3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_4
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_gases_queue value = 4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_5
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_gases_queue value = 5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_gases_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_gases_queue_1
				OR = {
					check_variable = { which = autofab_gases_queue value > 0 }
					check_variable = { which = autofab_refinery value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_gases_queue_2
				OR = {
					check_variable = { which = autofab_gases_queue value > 1 }
					check_variable = { which = autofab_refinery value > 1 }
					AND = {
						check_variable = { which = autofab_gases_queue value > 0 }
						check_variable = { which = autofab_refinery value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_gases_queue_3
				OR = {
					check_variable = { which = autofab_gases_queue value > 2 }
					check_variable = { which = autofab_refinery value > 2 }
					AND = {
						check_variable = { which = autofab_gases_queue value > 1 }
						check_variable = { which = autofab_refinery value > 0 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 0 }
						check_variable = { which = autofab_refinery value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_gases_queue_4
				OR = {
					check_variable = { which = autofab_gases_queue value > 3 }
					check_variable = { which = autofab_refinery value > 3 }
					AND = {
						check_variable = { which = autofab_gases_queue value > 1 }
						check_variable = { which = autofab_refinery value > 1 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 1 }
						check_variable = { which = autofab_refinery value > 1 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 2 }
						check_variable = { which = autofab_refinery value > 0 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 0 }
						check_variable = { which = autofab_refinery value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_gases_queue_5
				OR = {
					check_variable = { which = autofab_gases_queue value > 4 }
					check_variable = { which = autofab_refinery value > 4 }
					AND = {
						check_variable = { which = autofab_gases_queue value > 2 }
						check_variable = { which = autofab_refinery value > 1 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 1 }
						check_variable = { which = autofab_refinery value > 2 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 3 }
						check_variable = { which = autofab_refinery value > 0 }
					}
					AND = {
						check_variable = { which = autofab_gases_queue value > 0 }
						check_variable = { which = autofab_refinery value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_refinery_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_gases_queue_1
				}
				change_variable = { which = autofab_gases_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_2
				}
				change_variable = { which = autofab_gases_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_3
				}
				change_variable = { which = autofab_gases_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_4
				}
				change_variable = { which = autofab_gases_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_gases_queue_5
				}
				change_variable = { which = autofab_gases_queue value = -5 }
			}
		}
	}
}

factory_crystals_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_crystals_queue_1
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_crystals_queue_2
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_crystals_queue_3
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_crystals_queue_4
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_crystals_queue_5
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_translucer_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_crystals_queue_1
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_crystals_queue value = 1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_2
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_crystals_queue value = 2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_3
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_crystals_queue value = 3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_4
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_crystals_queue value = 4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_5
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_crystals_queue value = 5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_crystals_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_crystals_queue_1
				OR = {
					check_variable = { which = autofab_crystals_queue value > 0 }
					check_variable = { which = autofab_translucer value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_crystals_queue_2
				OR = {
					check_variable = { which = autofab_crystals_queue value > 1 }
					check_variable = { which = autofab_translucer value > 1 }
					AND = {
						check_variable = { which = autofab_crystals_queue value > 0 }
						check_variable = { which = autofab_translucer value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_crystals_queue_3
				OR = {
					check_variable = { which = autofab_crystals_queue value > 2 }
					check_variable = { which = autofab_translucer value > 2 }
					AND = {
						check_variable = { which = autofab_crystals_queue value > 1 }
						check_variable = { which = autofab_translucer value > 0 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 0 }
						check_variable = { which = autofab_translucer value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_crystals_queue_4
				OR = {
					check_variable = { which = autofab_crystals_queue value > 3 }
					check_variable = { which = autofab_translucer value > 3 }
					AND = {
						check_variable = { which = autofab_crystals_queue value > 1 }
						check_variable = { which = autofab_translucer value > 1 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 1 }
						check_variable = { which = autofab_translucer value > 1 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 2 }
						check_variable = { which = autofab_translucer value > 0 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 0 }
						check_variable = { which = autofab_translucer value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_crystals_queue_5
				OR = {
					check_variable = { which = autofab_crystals_queue value > 4 }
					check_variable = { which = autofab_translucer value > 4 }
					AND = {
						check_variable = { which = autofab_crystals_queue value > 2 }
						check_variable = { which = autofab_translucer value > 1 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 1 }
						check_variable = { which = autofab_translucer value > 2 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 3 }
						check_variable = { which = autofab_translucer value > 0 }
					}
					AND = {
						check_variable = { which = autofab_crystals_queue value > 0 }
						check_variable = { which = autofab_translucer value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_translucer_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_crystals_queue_1
				}
				change_variable = { which = autofab_crystals_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_2
				}
				change_variable = { which = autofab_crystals_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_3
				}
				change_variable = { which = autofab_crystals_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_4
				}
				change_variable = { which = autofab_crystals_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_crystals_queue_5
				}
				change_variable = { which = autofab_crystals_queue value = -5 }
			}
		}
	}
}

factory_extractor_increase_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_extractor_queue_1
				check_variable = { which = autofab_extractor_avail value > 0 }
				check_variable = { which = autofab_districts_available value > 0 }
			}
			AND = {
				has_country_flag = factory_extractor_queue_2
				check_variable = { which = autofab_extractor_avail value > 1 }
				check_variable = { which = autofab_districts_available value > 1 }
			}
			AND = {
				has_country_flag = factory_extractor_queue_3
				check_variable = { which = autofab_extractor_avail value > 2 }
				check_variable = { which = autofab_districts_available value > 2 }
			}
			AND = {
				has_country_flag = factory_extractor_queue_4
				check_variable = { which = autofab_extractor_avail value > 3 }
				check_variable = { which = autofab_districts_available value > 3 }
			}
			AND = {
				has_country_flag = factory_extractor_queue_5
				check_variable = { which = autofab_extractor_avail value > 4 }
				check_variable = { which = autofab_districts_available value > 4 }
			}
		}
	}
	effect = {
		custom_tooltip = "factory_extractor_queue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_extractor_queue_1
					check_variable = { which = autofab_districts_available value > 0 }
				}
				change_variable = { which = autofab_extractor_queue value = 1 }
				change_variable = { which = autofab_districts_available value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_2
					check_variable = { which = autofab_districts_available value > 1 }
				}
				change_variable = { which = autofab_extractor_queue value = 2 }
				change_variable = { which = autofab_districts_available value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_3
					check_variable = { which = autofab_districts_available value > 2 }
				}
				change_variable = { which = autofab_extractor_queue value = 3 }
				change_variable = { which = autofab_districts_available value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_4
					check_variable = { which = autofab_districts_available value > 3 }
				}
				change_variable = { which = autofab_extractor_queue value = 4 }
				change_variable = { which = autofab_districts_available value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_5
					check_variable = { which = autofab_districts_available value > 4 }
				}
				change_variable = { which = autofab_extractor_queue value = 5 }
				change_variable = { which = autofab_districts_available value = -5 }
			}
		}
	}
}
factory_extractor_decrease_queue = {
	potential = { }
	allow = {
		OR = {
			AND = {
				has_country_flag = factory_extractor_queue_1
				OR = {
					check_variable = { which = autofab_extractor_queue value > 0 }
					check_variable = { which = autofab_extractor value > 0 }
				}
			}
			AND = {
				has_country_flag = factory_extractor_queue_2
				OR = {
					check_variable = { which = autofab_extractor_queue value > 1 }
					check_variable = { which = autofab_extractor value > 1 }
					AND = {
						check_variable = { which = autofab_extractor_queue value > 0 }
						check_variable = { which = autofab_extractor value > 0 }
					}
				}
			}
			AND = {
				has_country_flag = factory_extractor_queue_3
				OR = {
					check_variable = { which = autofab_extractor_queue value > 2 }
					check_variable = { which = autofab_extractor value > 2 }
					AND = {
						check_variable = { which = autofab_extractor_queue value > 1 }
						check_variable = { which = autofab_extractor value > 0 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 0 }
						check_variable = { which = autofab_extractor value > 1 }
					}
				}
			}
			AND = {
				has_country_flag = factory_extractor_queue_4
				OR = {
					check_variable = { which = autofab_extractor_queue value > 3 }
					check_variable = { which = autofab_extractor value > 3 }
					AND = {
						check_variable = { which = autofab_extractor_queue value > 1 }
						check_variable = { which = autofab_extractor value > 1 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 1 }
						check_variable = { which = autofab_extractor value > 1 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 2 }
						check_variable = { which = autofab_extractor value > 0 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 0 }
						check_variable = { which = autofab_extractor value > 2 }
					}
				}
			}
			AND = {
				has_country_flag = factory_extractor_queue_5
				OR = {
					check_variable = { which = autofab_extractor_queue value > 4 }
					check_variable = { which = autofab_extractor value > 4 }
					AND = {
						check_variable = { which = autofab_extractor_queue value > 2 }
						check_variable = { which = autofab_extractor value > 1 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 1 }
						check_variable = { which = autofab_extractor value > 2 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 3 }
						check_variable = { which = autofab_extractor value > 0 }
					}
					AND = {
						check_variable = { which = autofab_extractor_queue value > 0 }
						check_variable = { which = autofab_extractor value > 3 }
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = "factory_extractor_unqueue"
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = factory_extractor_queue_1
				}
				change_variable = { which = autofab_extractor_queue value = -1 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_2
				}
				change_variable = { which = autofab_extractor_queue value = -2 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_3
				}
				change_variable = { which = autofab_extractor_queue value = -3 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_4
				}
				change_variable = { which = autofab_extractor_queue value = -4 }
			}
			else_if = {
				limit = {
					has_country_flag = factory_extractor_queue_5
				}
				change_variable = { which = autofab_extractor_queue value = -5 }
			}
		}
	}
}